(function(t){function e(e){for(var n,a,o=e[0],u=e[1],c=e[2],p=0,d=[];p<o.length;p++)a=o[p],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(t[n]=u[n]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),r()}function r(){for(var t,e=0;e<s.length;e++){for(var r=s[e],n=!0,o=1;o<r.length;o++){var u=r[o];0!==i[u]&&(n=!1)}n&&(s.splice(e--,1),t=a(a.s=r[0]))}return t}var n={},i={app:0},s=[];function a(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=t,a.c=n,a.d=function(t,e,r){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)a.d(r,n,function(e){return t[e]}.bind(null,n));return r},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/typing-trainer/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],u=o.push.bind(o);o.push=e,o=o.slice();for(var c=0;c<o.length;c++)e(o[c]);var l=u;s.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("56d7")},"034f":function(t,e,r){"use strict";r("85ec")},"03e9":function(t,e,r){},"06f0":function(t,e,r){"use strict";r("0fc2")},"0fc2":function(t,e,r){},"56d7":function(t,e,r){"use strict";r.r(e);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("2b0e"),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[t.isModalActive?r("StartWindow",{on:{startTrain:t.startTrain}}):t._e(),t.isTextFieldActive?r("Field",{attrs:{displayType:t.displayType,fieldText:t.text,fontSize:t.fontSize,errorCountingType:t.errorCountingType}}):t._e()],1)},s=[],a=r("3835"),o=(r("d3b7"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrapper"},[r("div",{staticClass:"text-container"},[r("div",{class:{fixStringField:"stringField"==t.displayType}},[r("div",{class:[{"text-containter__user-text":"textField"==t.displayType},{"string-text-containter__user-text":"stringField"==t.displayType}],attrs:{id:"user-text"}},[t._v(t._s(t.userText)),r("span",{class:[{error:t.isErrorSpanStyle},"current-letter",{stringLetterSpan:"stringField"==t.displayType}]},[t._v(t._s(t.fieldText[this.curLetterIndex]))])])]),r("div",{class:[{"text-containter__text":"textField"==t.displayType},{"string-text-containter__text":"stringField"==t.displayType}]},[t._v(t._s(t.curFieldText))])]),r("div",{staticClass:"stats-block-container"},[r("StatsBlock",{attrs:{statsInfo:t.statsInfo,userRightTextLength:t.curLetterIndex}})],1),r("input",{attrs:{type:"text",id:"trigger-mobile-keyboard",autofocus:""}})])}),u=[],c=r("1da1"),l=(r("96cf"),r("fb6a"),function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"stats-block"},[r("div",{staticClass:"radial-progress",attrs:{"data-progress":t.accuracy.toFixed()}},[t._m(0),r("div",{staticClass:"inset"},[r("div",{staticClass:"percentage"},[t._v(" "+t._s(t.accuracy.toFixed(2))+"% ")])])]),r("div",{staticClass:"input-speed"},[t._v("Символов в минуту: "),r("div",{staticClass:"input-speed-number"},[t._v(t._s(t.inputSpeed))])])])}),p=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"circle"},[r("div",{staticClass:"mask full"},[r("div",{staticClass:"fill"})]),r("div",{staticClass:"mask half"},[r("div",{staticClass:"fill"}),r("div",{staticClass:"fill fix"})]),r("div",{staticClass:"shadow"})])}],d=(r("a9e3"),{name:"StatsBlock",props:{userRightTextLength:Number,statsInfo:{fullTextLength:Number,firstTimeErrorAmount:Number,totalErrorAmount:Number,errorCountingType:String,firstTimeRightAmount:Number,startInputTime:Number,rightInputTimestamp:Number}},data:function(){return{}},methods:{countEasyAccuracy:function(t){return(t.fullTextLength-t.firstTimeErrorAmount)/t.fullTextLength*100},countMediumAccuracy:function(t){return this.userRightTextLength+t.totalErrorAmount!==0?this.userRightTextLength/(this.userRightTextLength+t.totalErrorAmount)*100:100},countHardAccuracy:function(t){return t.firstTimeRightAmount+t.firstTimeErrorAmount!==0?t.firstTimeRightAmount/(t.firstTimeRightAmount+t.firstTimeErrorAmount)*100:100},countExtremeAccuracy:function(t){return this.userRightTextLength+t.totalErrorAmount!==0?t.firstTimeRightAmount/(this.userRightTextLength+t.totalErrorAmount)*100:100}},computed:{accuracy:function(){var t=this.statsInfo;switch(t.errorCountingType){case"easy":return this.countEasyAccuracy(t);case"medium":return this.countMediumAccuracy(t);case"hard":return this.countHardAccuracy(t);case"extreme":return this.countExtremeAccuracy(t);default:return 100}},inputSpeed:function(){var t=this.statsInfo,e=Math.round(60*this.userRightTextLength/(t.rightInputTimestamp-t.startInputTime)*1e3);return this.userRightTextLength<=1?0:e}}}),f=d,v=(r("6bc1"),r("2877")),m=Object(v["a"])(f,l,p,!1,null,"370d2388",null),g=m.exports,h={$el:"user-text",name:"Field",components:{StatsBlock:g},props:{displayType:String,fieldText:String,fontSize:String,errorCountingType:String},data:function(){return{fieldType:this.displayType,curLetterIndex:0,userText:"",inputText:"",previousText:"",curFieldText:this.fieldText,isErrorSpanStyle:!1,isFirstAttempt:!0,statsInfo:{fullTextLength:this.fieldText.length,firstTimeErrorAmount:0,totalErrorAmount:0,errorCountingType:this.errorCountingType,firstTimeRightAmount:0,startInputTime:0,rightInputTimestamp:0}}},mounted:function(){var t=document.getElementsByClassName("text-container")[0];t.style.fontSize=this.fontSize,this.startTraining()},methods:{startTraining:function(){var t=this,e=document.getElementById("trigger-mobile-keyboard");e.focus(),e.addEventListener("compositionupdate",(function(){alert("Пожалуйста, выключите автодополнение и модификации ввода символов на клавиатуре")})),document.addEventListener("click",(function(){document.getElementById("trigger-mobile-keyboard").focus()})),document.addEventListener("input",(function(e){0==t.statsInfo.startInputTime&&(t.statsInfo.startInputTime=Date.now()),/^[a-zA-Zа-яА-ЯЁё,.?!-:;() ]$/.test(e.data)&&t.checkLetter(e.data)})),document.addEventListener("keydown",(function(e){"Backspace"===e.key&&(t.isErrorSpanStyle=!1)}))},isCorrectLetter:function(t){return t===this.fieldText[this.curLetterIndex]},addFirstTimeAmount:function(t){var e=this.statsInfo;t?e.firstTimeRightAmount+=1:e.firstTimeErrorAmount+=1},rightUserInputAction:function(t){this.isErrorSpanStyle=!1,this.updateMessage(t),this.curLetterIndex+=1,this.isFirstAttempt=!0},wrongUserInputAction:function(){this.isErrorSpanStyle=!0,this.statsInfo.totalErrorAmount+=1,this.isFirstAttempt=!1},checkLetter:function(t){var e=this.isCorrectLetter(t);this.isFirstAttempt&&this.addFirstTimeAmount(e),e?(this.statsInfo.rightInputTimestamp=Date.now(),this.rightUserInputAction(t)):this.wrongUserInputAction()},updateMessage:function(){var t=Object(c["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return"stringField"==this.displayType&&(this.curFieldText=this.curFieldText.slice(1)),this.userText+=e,t.next=4,this.$nextTick();case 4:case"end":return t.stop()}}),t,this)})));function e(e){return t.apply(this,arguments)}return e}()}},y=h,T=(r("5d26"),Object(v["a"])(y,o,u,!1,null,"7ae9977c",null)),_=T.exports,x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-window"},[n("div",{staticClass:"start-block"},[n("div",{staticClass:"start-block__settings"},[n("div",{staticClass:"settings__select"},[n("span",{staticClass:"setting-text"},[t._v("Выберите тип отображения:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.displayType,expression:"displayType"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.displayType=e.target.multiple?r:r[0]}}},[n("option",{attrs:{value:"stringField"}},[t._v("Строка")]),n("option",{attrs:{value:"textField"}},[t._v("Текстовое поле")])])]),n("div",{staticClass:"settings__select"},[n("span",{staticClass:"setting-text"},[t._v("Выберите язык текста:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.language,expression:"language"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.language=e.target.multiple?r:r[0]}}},[n("option",{attrs:{value:"rus"}},[t._v("Русский")]),n("option",{attrs:{value:"eng"}},[t._v("English")])])]),n("div",{staticClass:"settings__select"},[n("span",{staticClass:"setting-text"},[t._v("Выберите размер шрифта:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.fontSize,expression:"fontSize"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.fontSize=e.target.multiple?r:r[0]}}},[n("option",{attrs:{value:"16"}},[t._v("16")]),n("option",{attrs:{value:"18"}},[t._v("18")]),n("option",{attrs:{value:"20"}},[t._v("20")]),n("option",{attrs:{value:"22"}},[t._v("22")])])]),n("div",{staticClass:"settings__select"},[n("span",{staticClass:"setting-text"},[t._v("Выберите тип подсчета ошибок:")]),n("select",{directives:[{name:"model",rawName:"v-model",value:t.errorCountingType,expression:"errorCountingType"}],on:{change:function(e){var r=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.errorCountingType=e.target.multiple?r:r[0]}}},[n("option",{attrs:{value:"easy"}},[t._v("Доверительный")]),n("option",{attrs:{value:"medium"}},[t._v("Справедливый")]),n("option",{attrs:{value:"hard"}},[t._v("Препод по русскому")]),n("option",{attrs:{value:"extreme"}},[t._v("Адский путь самурая")])]),n("div",{staticClass:"help-icon"},[n("img",{staticClass:"help-icon__image",attrs:{src:r("d4d0"),alt:"Подробнее"}}),n("div",{staticClass:"help-icon__text"},["easy"==t.errorCountingType?n("p",[t._v(" Доверительный: Учитываем ваши ошибки относительно всего текста. Ошибкой считается первый неправильно введенный символ. (точность = количество правильных символов всего текста/длину текста) ")]):t._e(),"medium"==t.errorCountingType?n("p",[t._v(" Справедливый: Учитываем ваши ошибки относительно введенного текста. Исправленные символы СЧИТАЮТСЯ правильными. (точность = количество правильных символов/ "),n("span",{staticClass:"red-text"},[t._v("количество нажатых клавиш")]),t._v(") ")]):t._e(),"hard"==t.errorCountingType?n("p",[t._v(" Препод по русскому: Учитываем ваши ошибки относительно введенного текста. Исправленные символы "),n("span",{staticClass:"red-text"},[t._v("не считаются")]),t._v(" "),n("span",{staticClass:"green-text"},[t._v("правильными")]),t._v(". (точность = количество правильных символов/количество всех ранее введенных "),n("span",{staticClass:"green-text"},[t._v("правильных")]),t._v(" символов) ")]):t._e(),"extreme"==t.errorCountingType?n("p",[t._v(" Адский путь самурая: Никаких пощад! Учитываем ваши ошибки относительно введенного текста. Исправленные символы "),n("span",{staticClass:"red-text"},[t._v("не считаются")]),t._v(" "),n("span",{staticClass:"green-text"},[t._v("правильными")]),t._v(". (точность = количество "),n("span",{staticClass:"green-text"},[t._v("правильных")]),t._v(" символов/ "),n("span",{staticClass:"red-text"},[t._v("количество нажатых клавиш")]),t._v(") ")]):t._e()])])])]),n("button",{staticClass:"start-block__btn",on:{click:t.startTrain}},[t._v("Начать")])])])},C=[],b={name:"StartWindow",data:function(){return{displayType:"stringField",language:"rus",fontSize:16,errorCountingType:"easy"}},methods:{startTrain:function(){var t={displayType:this.displayType,language:this.language,fontSize:this.fontSize+"px",errorCountingType:this.errorCountingType};this.$emit("startTrain",t)}}},A=b,S=(r("06f0"),Object(v["a"])(A,x,C,!1,null,"3d1f3a5a",null)),E=S.exports,w={name:"App",components:{Field:_,StartWindow:E},data:function(){return{isModalActive:!0,isTextFieldActive:!1,displayType:"",text:"",fontSize:0,errorCountingType:""}},methods:{startTrain:function(t){var e,r=this,n=[t.displayType,t.language,t.fontSize,t.errorCountingType];this.displayType=n[0],e=n[1],this.fontSize=n[2],this.errorCountingType=n[3],this.getTextFromSource(e).then((function(t){r.text=t,r.isModalActive=!1,r.isTextFieldActive=!0})).catch((function(t){return alert(t)}))},getTextFromSource:function(t){var e=this;return new Promise((function(r,n){var i=new XMLHttpRequest,s="eng"===t?"https://baconipsum.com/api/?type=all-meat&sentences=6":"https://fish-text.ru/get?number=2";i.open("GET",s,!0),i.responseType="json",i.onload=function(){var s=e.formatAnswerFromAPI(i,t),o=Object(a["a"])(s,2),u=o[0],c=o[1];c?r(u):n(u)},i.onerror=function(){n(i.response)},i.send()}))},formatAnswerFromAPI:function(t,e){var r=t.response;return"eng"===e?200===t.status?[r[0],!0]:[r,!1]:200===t.status?[r.text,!0]:[r.text,!1]}}},F=w,I=(r("034f"),Object(v["a"])(F,i,s,!1,null,null,null)),L=I.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(L)}}).$mount("#app")},"5d26":function(t,e,r){"use strict";r("bd41")},"6bc1":function(t,e,r){"use strict";r("03e9")},"85ec":function(t,e,r){},bd41:function(t,e,r){},d4d0:function(t,e,r){t.exports=r.p+"img/help-mark.b16e7967.png"}});
//# sourceMappingURL=app.d86dfd03.js.map